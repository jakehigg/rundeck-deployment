//# sourceMappingURL=application.js.map
jQuery=jQuery.noConflict(!0);function clearHtml(a){$(a).innerHTML=""}function setHtml(a,b){clearHtml(a);appendHtml(a,b)}function appendHtml(a,b){$(a).innerHTML+=b}function setText(a,b){clearHtml(a);appendText(a,b)}function appendText(a,b){$(a).appendChild(document.createTextNode(b))}function html_unescape(a){return jQuery("<div/>").html(a.split("<").join("&lt;").split(">").join("&gt;")).text()}
function loadJsonData(a){a=document.getElementById(a);return a?(a=a.textContent||a.innerText)&&""!=a?JSON.parse(a):null:null}function parseUrlParams(a){var b={};a=a.split("?",2);if(2==a.length){a=a[1];a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].split("=",2);2==d.length&&(b[d[0]]=d[1])}}return b}function toggleDisclosure(a,b,c,d){$(a).toggle();$(a).visible()?$(b).setAttribute("src",d):$(b).setAttribute("src",c)}
function myToggleClassName(a,b){$(a).hasClassName(b)?$(a).removeClassName(b):$(a).addClassName(b)}
function updatecancel(a,b,c){"string"==typeof a&&eval("data="+a);a.cancelled?($(b)&&setHtml(b,'<span class="fail">Killed</span>'),$("exec-"+c+"-spinner")&&(clearHtml($("exec-"+c+"-spinner")),a=new Element("img"),a.src=appLinks.iconTinyWarn,$("exec-"+c+"-spinner").appendChild(a)),$("exec-"+c+"-dateCompleted")&&(clearHtml($("exec-"+c+"-dateCompleted")),$("exec-"+c+"-dateCompleted").onclick&&($(b).onclick=$("exec-"+c+"-dateCompleted").onclick))):"success"!=a.status?$(b)&&(c=new Element("span"),c.addClassName("fail"),
setText(c,a.error?a.error:"Failed to Kill job."),clearHtml(b),$(b).appendChild(c)):"success"==a.status&&($(b)&&setText(b,"Job Completed."),$("exec-"+c+"-spinner")&&(clearHtml("exec-"+c+"-spinner"),a=new Element("img"),a.src=appLinks.iconTinyOk,$("exec-"+c+"-spinner").appendChild(a)),$("exec-"+c+"-dateCompleted")&&(clearHtml("exec-"+c+"-dateCompleted"),$("exec-"+c+"-dateCompleted").onclick&&($(b).onclick=$("exec-"+c+"-dateCompleted").onclick)))}
function canceljob(a,b){if($(b)){clearHtml(b);var c=new Element("img");c.src=appLinks.iconSpinner;$(b).appendChild(c);appendText(b," Killing Job ...")}new Ajax.Request(appLinks.executionCancelExecution,{parameters:"id="+a,onSuccess:function(c){try{updatecancel(c.responseText,b,a)}catch(e){alert(e)}},onFailure:function(c){updatecancel({error:"Request failed: "+c.statusText},b,a);cancelJobError("Request failed: "+c.statusText,b,a)}})}function cancelJobError(a,b,c){}
var Expander={toggle:function(a,b,c){var d=$(a);if(d){var e;$(b)&&(e=$(b));var f;if(e)d.hasClassName("expandComponentControl")&&(f=d),d.hasClassName("expandComponentHolder")?f||(f=d.down(".expandComponentControl")):d.up(".expandComponentHolder");else if(d=d.up(".expandComponentHolder"))e=d.down(".expandComponent"),f=d.down(".expandComponentControl");d=!1;e?d=!Element.visible(e):f&&(e=f.down(".glyphicon"))&&(d=e.hasClassName("glyphicon-chevron-down"));Expander.setOpen(a,b,d,c);return d}},setOpen:function(a,
b,c,d){if(a=$(a)){var e;$(b)&&(e=$(b));var f,g;!e&&(f=a.up(".expandComponentHolder"))&&(e=f.down(".expandComponent"),g=f.down(".expandComponentControl"));f&&g||(a.hasClassName("expandComponentControl")&&(g=a),a.hasClassName("expandComponentHolder")?(f=a,g||(g=f.down(".expandComponentControl"))):f=a.up(".expandComponentHolder"));e&&(c?Element.show(e):Element.hide(e),null!=d&&$$(d).each(function(b){c?Element.show(b):Element.hide(b)}));f?c?Element.addClassName(f,"expanded"):Element.removeClassName(f,
"expanded"):g&&e&&(c?(Element.addClassName(g,"expanded"),Element.removeClassName(g,"closed")):(Element.removeClassName(g,"expanded"),Element.addClassName(g,"closed")));g&&(b=g.down(".glyphicon"))&&(c?(b.addClassName("glyphicon-chevron-down"),b.removeClassName("glyphicon-chevron-right")):(b.addClassName("glyphicon-chevron-right"),b.removeClassName("glyphicon-chevron-down")))}},open:function(a,b){Expander.setOpen(a,b,!0)},close:function(a,b){Expander.setOpen(a,b,!1)}};
"1.6.0.2"==Prototype.Version&&Prototype.Browser.IE&&(Object.extend(Element,{getStyle_Orig:Element.Methods.getStyle}),Object.extend(Element,{getStyle:function(a,b){a=$(a);return a!=document&&a!=document.body||"position"!=b?Element.getStyle_Orig(a,b):null}}));function _isIe(a){return Prototype.Browser.IE&&$$("html")[0].hasClassName("ie"+a)}function noenter(a){a&&a.keyCode==Event.KEY_RETURN&&Event.stop(a);return!(a&&a.keyCode==Event.KEY_RETURN)}
function nochars(a,b){var c=b.keyCode?b.keyCode:b.charCode;b&&0!=c&&0<=a.indexOf(String.fromCharCode(c))&&Event.stop(b);return!(b&&0!=c&&0<=a.indexOf(String.fromCharCode(c)))}
function _applyAce(a,b){if(!(_isIe(8)||_isIe(7)||_isIe(6))){$(a).setStyle({width:"100%",height:null!=b?b:"200px"});$(a).addClassName("ace_editor");var c=ace.edit(a.identify());c.setTheme("ace/theme/"+(jQuery(a).data("aceSessionTheme")||"chrome"));c.getSession().setMode("ace/mode/"+(jQuery(a).data("aceSessionMode")||"sh"));c.setReadOnly(!0)}}
function _setupMarkdeepPreviewTab(a,b,c){jQuery("#"+a).on("show.bs.tab",function(){var a=jQuery("#"+b);a.text("Loading...");window.markdeep.format(c()+"\n",!0,function(b){jQuery(a).html(b)})})}
function _setupAceTextareaEditor(a,b){function c(b,a){var c=0<=h.indexOf(b)?b:null;a.getSession().setMode("ace/mode/"+(c||"sh"))}if(!(_isIe(8)||_isIe(7)||_isIe(6))){jQuery(a).hide();var d=jQuery("<div></div>"),e=jQuery(a).data(),f=e.aceHeight?e.aceHeight:"560px";d.css({width:e.aceWidth?e.aceWidth:"100%",height:f}).addClass("ace_text").text(jQuery(a).val()).insertBefore(a);var g=ace.edit(generateId(d));g.$blockScrolling=Infinity;var h="batchfile diff dockerfile golang groovy html java javscript json markdown perl php powershell properties python ruby sh sql xml yaml".split(" "),
k;if(e.aceResizeMax){var l=parseInt(f.replace(/px$/,"")),m=g.renderer.lineHeight,n=Math.floor(l/m),p=parseInt(e.aceResizeMax);n<p&&(k=function(b){var a=b.session.getLength();a>n&&n<p&&(a=Math.max(5,Math.min(p-n,a-n)),n+=a,l+=a*m,d.css({height:l+"px"}),b.resize())},e.aceResizeAuto&&k(g))}c(e.aceSessionMode,g);g.setTheme("ace/theme/chrome");g.getSession().on("change",function(c){jQuery(a).val(g.getValue());b&&b(g);k&&k(g)});e.aceAutofocus&&g.focus();e.aceControlSoftWrap&&e.aceControlSoftWrap&&(f=jQuery("<input/>").attr("type",
"checkbox").on("change",function(b){g.getSession().setUseWrapMode(this.checked)}),f=jQuery("<label></label>").append(f).append("Soft Wrap"),jQuery("<div></div>").addClass("checkbox ace_text_controls").append(f).insertBefore(d));if(e.aceControlSyntax&&e.aceControlSyntax){f=jQuery("<select/>").addClass("form-control").on("change",function(b){c(jQuery(this).val(),g)});f.append(jQuery("<option/>").attr("value","-").text("-None-"));for(var q=0;q<h.length;q++){var r=h[q],t=jQuery("<option/>").attr("value",
r).text(r);f.append(t);r==e.aceSessionMode&&t.attr("selected","true")}e=jQuery("<label></label>").append("Syntax Mode: ").append(f);jQuery("<div></div>").addClass("ace_text_controls form-inline").append(e).insertBefore(d)}return g}}
function controlkeycode(a){var b=[Event.KEY_BACKSPACE,Event.KEY_DELETE,Event.KEY_TAB,Event.KEY_RETURN,Event.KEY_ESC,Event.KEY_PAGEDOWN,Event.KEY_PAGEUP,Event.KEY_END,Event.KEY_HOME,Event.KEY_INSERT,Event.KEY_LEFT,Event.KEY_RIGHT,Event.KEY_DOWN,Event.KEY_UP];return a.keyCode&&0<=b.indexOf(a.keyCode)?!0:!1}function onlychars(a,b){var c=b.keyCode?b.keyCode:b.charCode;b&&0!=c&&!String.fromCharCode(c).match(a)&&Event.stop(b);return!(b&&0!=c&&!String.fromCharCode(c).match(a))}
function fireWhenReady(a,b){0<jQuery("#"+a).size()?b():jQuery(document).ready(b)}function _genUrl(a,b){var c=[];if("string"==typeof b)c=[b];else if("object"==typeof b)for(var d in b)c.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return a+(0<a.indexOf("?")?"&":"?")+c.join("&")}function _pageLink(a,b,c,d,e){var f=new Element("a");f.href=_genUrl(a,b);setText(f,c);f.addClassName(d);Event.observe(f,"click",function(a){e&&!e(f,b)&&a.preventDefault()});return f}
function totalPageCount(a,b){var c=Math.floor(b/a);c!=b/a&&(c+=1);return c}
function foreachPage(a,b,c,d,e){if(c){c=parseInt(c);a=a?parseInt(a):0;b=b?parseInt(b):20;var f={maxsteps:10};"function"==typeof d?e=d:d&&Object.extend(f,d);d=totalPageCount(b,c);var g=Math.floor(a/b)+1,h=g-Math.floor(f.maxsteps/2);h+f.maxsteps>d&&(h=d-f.maxsteps);0>h&&(h=0);var k=0<h,l=h+f.maxsteps<d;e({offset:a-b,page:g-1,prevPage:!0,disabled:1>=g,max:b});k&&e({skipped:!0,disabled:!0,max:b});for(k=h;k-h<f.maxsteps&&b*k<c;k++)e({offset:b*k,currentPage:k+1==g,page:k+1,normal:!0,max:b});l&&e({skipped:!0,
disabled:!0,max:b});e({offset:a+b,nextPage:!0,page:g+1,disabled:g>=d,max:b})}}
function paginate(a,b,c,d,e){if((a=$(a))&&c){c=parseInt(c);b=b?parseInt(b):0;d=d?parseInt(d):20;var f={"paginate.next":"Next","paginate.prev":"Previous","paginate.ff":"\u00bb","paginate.rew":"\u00ab",nextClass:"",prevClass:"",stepClass:"",currentStepClass:"active",offsetParam:"offset",maxParam:"max",maxsteps:10,insertion:"bottom",behavior:null,ulCss:"pagination pagination-sm"};e&&Object.extend(f,e);if(f.baseUrl){var g=Math.floor(c/d);g!=c/d&&(g+=1);var h=Math.floor(b/d)+1;e=new Element("ul");e.addClassName(f.ulCss);
for(var k=1;h-k>=f.maxsteps;)k+=f.maxsteps;console.log("total, offset, curpage,firststep,maxsteps",c,b,h,k,f.maxsteps);var l,m;1<k&&(l=_pageLink(f.baseUrl,{offset:d*(k-2),max:d},f["paginate.rew"],f.prevClass,f.stepBehavior),m=new Element("li"),m.appendChild(l),e.appendChild(m));m=new Element("li");h>k||1<k?l=_pageLink(f.baseUrl,{offset:b-d,max:d},f["paginate.prev"],f.prevClass,f.prevBehavior):(l=new Element("span"),setText(l,f["paginate.prev"]),m.addClassName("disabled"));m.appendChild(l);e.appendChild(m);
for(var n=0;n<f.maxsteps&&d*(n+k-1)<c;n++)l=_pageLink(f.baseUrl,{offset:d*(n+k-1),max:d},k+n,f.stepClass,f.stepBehavior),m=new Element("li"),n+k==h&&m.addClassName(f.currentStepClass),m.appendChild(l),e.appendChild(m);m=new Element("li");b<c-d?l=_pageLink(f.baseUrl,{offset:b+d,max:d},f["paginate.next"],f.nextClass,f.nextBehavior):(l=new Element("span"),setText(l,f["paginate.next"]),m.addClassName("disabled"));m.appendChild(l);e.appendChild(m);g>=k+f.maxsteps&&(l=_pageLink(f.baseUrl,{offset:d*(k+f.maxsteps-
1),max:d},f["paginate.ff"],f.nextClass,f.stepBehavior),m=new Element("li"),m.appendChild(l),e.appendChild(m));b={};b[f.insertion]=e;clearHtml(a);a.insert(b)}}}
function _initPopoverContentRef(a,b){var c;b=b||{};b.element?c=jQuery(b.element):"string"==typeof a?c=jQuery(a+" [data-toggle=popover][data-popover-content-ref]"):"undefined"==typeof a?c=jQuery("[data-toggle=popover][data-popover-content-ref]"):"object"==typeof a&&(c=jQuery(a).find("[data-toggle=popover][data-popover-content-ref]"));c.each(function(a,c){if("true"!=jQuery(c).data("popover-content-ref-inited")){var f=jQuery(c).data("popover-content-ref")||b.contentRef,g={html:!0,content:function(){return jQuery(f).html()},
trigger:jQuery(c).data("trigger")||b.trigger||"click"},h=jQuery(c).data("popover-template-class")||b.templateClass;h&&(g.template=jQuery.fn.popover.Constructor.DEFAULTS.template.replace(/class="popover"/,'class="popover '+h+'"'));jQuery(c).popover(g).on("shown.bs.popover",function(){jQuery(c).toggleClass("active")}).on("hidden.bs.popover",function(){jQuery(c).toggleClass("active")});jQuery(c).data("popover-content-ref-inited","true")}})}
function _initPopoverContentFor(a,b){var c;b=b||{};b.element?c=jQuery(b.element):"string"==typeof a?c=jQuery(a+" [data-toggle=popover-for]"):"undefined"==typeof a?c=jQuery("[data-toggle=popover-for]"):"object"==typeof a&&(c=jQuery(a).find("[data-toggle=popover-for]"));c.each(function(a,c){var f=jQuery(c).data("target")||c.href()||b.target,g=jQuery(f);jQuery(c).on(g.data("trigger")||b.trigger||"click",function(){g.popover("toggle")});g.on("shown.bs.popover",function(){jQuery(c).toggleClass("active")}).on("hidden.bs.popover",
function(){jQuery(c).toggleClass("active")})})}
function _initAffix(){jQuery("a[href='#top']").click(function(){jQuery("html, body").animate({scrollTop:0},"slow");return!1});jQuery("a[href='#bottom']").click(function(){var a=jQuery("html, body");a.animate({scrollTop:a[0].scrollHeight},"fast");return!1});jQuery("[data-affix=top]").each(function(a,b){var c=jQuery(b).data("affix-padding-top"),c=jQuery(b).offset().top-(c?c:0);jQuery(b).affix({offset:{top:c}});jQuery(b).closest("[data-affix=wrap]").height(jQuery(b).height())})}
function _initIEPlaceholder(){Prototype.Browser.IE&&(jQuery("[placeholder]").focus(function(){var a=jQuery(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=jQuery(this);if(""==a.val()||a.val()==a.attr("placeholder"))a.addClass("placeholder"),a.val(a.attr("placeholder"))}).blur(),jQuery("[placeholder]").parents("form").submit(function(){jQuery(this).find("[placeholder]").each(function(){var a=jQuery(this);a.val()==a.attr("placeholder")&&a.val("")})}))}
function _initCollapseExpander(){jQuery(document).on("show.bs.collapse",".collapse.collapse-expandable",function(a){a=jQuery(this);jQuery("[data-toggle=collapse][href='#"+a.attr("id")+"']").addClass("active").children(".glyphicon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down");jQuery("[data-toggle=collapse][data-target='#"+a.attr("id")+"']").addClass("active").children(".glyphicon").removeClass("glyphicon-chevron-right").addClass("glyphicon-chevron-down")});jQuery(document).on("hide.bs.collapse",
".in.collapse-expandable",function(a){a=jQuery(this);jQuery("[data-toggle=collapse][href='#"+a.attr("id")+"']").removeClass("active").children(".glyphicon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right");jQuery("[data-toggle=collapse][data-target='#"+a.attr("id")+"']").removeClass("active").children(".glyphicon").removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-right")})}
function _toggleAnsiColor(a){a=jQuery(this).find("input")[0].checked;var b=jQuery(".ansicolor");a?b.addClass("ansicolor-on"):b.removeClass("ansicolor-on")}function _initAnsiToggle(){jQuery(".ansi-color-toggle").on("change",_toggleAnsiColor);jQuery(".nodes_run_content").on("change",".ansi-color-toggle",_toggleAnsiColor)}
function _ajaxSendTokens(a,b,c){c=jQuery("#"+a);var d={};c&&c.data("rundeck-token-key")&&c.data("rundeck-token-uri")?d={TOKEN:c.data("rundeck-token-key"),URI:c.data("rundeck-token-uri")}:(d=loadJsonData(a),clearHtml(document.getElementById(a)));d&&d.TOKEN&&d.URI&&(b.setRequestHeader("X-RUNDECK-TOKEN-KEY",d.TOKEN),b.setRequestHeader("X-RUNDECK-TOKEN-URI",d.URI));return!0}
function _ajaxReceiveTokens(a,b,c,d){a=jQuery("#"+a);if(d.getResponseHeader("X-RUNDECK-TOKEN-KEY")&&d.getResponseHeader("X-RUNDECK-TOKEN-URI"))try{a.data("rundeck-token-key",d.getResponseHeader("X-RUNDECK-TOKEN-KEY")),a.data("rundeck-token-uri",d.getResponseHeader("X-RUNDECK-TOKEN-URI"))}catch(e){}}
function _initTokenRefresh(){jQuery(document).ajaxComplete(function(a,b,c){if(b.getResponseHeader("X-RUNDECK-TOKEN-KEY")&&b.getResponseHeader("X-RUNDECK-TOKEN-URI"))try{jQuery("#SYNCHRONIZER_TOKEN").val(b.getResponseHeader("X-RUNDECK-TOKEN-KEY")),jQuery("#SYNCHRONIZER_URI").val(b.getResponseHeader("X-RUNDECK-TOKEN-URI"))}catch(d){}})}function _jobDescriptionRunbook(a){return a.replace(/^(.|[\r\n])*?(\r\n|\n)---(\r\n|\n)/,"")}
function _hasJobDescriptionRunbook(a){return a!=_jobDescriptionRunbook(a)}function _applyMarkdeep(a){if("undefined"!=typeof window.markdeep){var b=jQuery(a).text();jQuery(a).text("Loading...");window.markdeep.format(b+"\n",!0,function(c,d){d?(jQuery(a).text(""),jQuery(a).append(jQuery("<pre><code></code></pre>").text(b))):jQuery(a).html(c)})}else console.log("Markdeep was not loaded")}
function _remoteSanitizeHTML(a,b){return jQuery.ajax({url:appLinks.scheduledExecutionSanitizeHtml,method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify({content:a}),success:function(a,d){b(!0,a.content)},error:function(a,d,e){b(!1,null,e)}})}
function _initMarkdeep(){if("undefined"!=typeof window.markdeep){var a=window.markdeep;window.markdeep=Object.freeze({format:function(b,c,d){_remoteSanitizeHTML(a.format(b,c),function(a,c,g){a?d(c):(console.log("Error: could not sanitize content: "+g),d(b,"Failed to sanitize content"))})},formatDiagram:a.formatDiagram,stylesheet:a.stylesheet});jQuery(".markdeep").each(function(b,a){_applyMarkdeep(a)})}}
(function(){window.markdeepOptions={mode:"script",detectMath:!1};"function"==typeof jQuery&&(jQuery.ajaxSetup({headers:{"x-rundeck-ajax":"true"}}),jQuery(document).ready(function(){jQuery.support.transition=!1;jQuery(".has_tooltip").tooltip({});jQuery(".has_popover").popover({});_initPopoverContentRef();_initPopoverContentFor();_initAffix();_initIEPlaceholder();_initCollapseExpander();_initAnsiToggle();_initMarkdeep()}))})();
var updateNowRunning=function(a){var b="Now Running ("+a+")";$("nowrunninglink")&&setText($("nowrunninglink"),b);$$(".nowrunningcount").each(function(b){setText(b,"("+a+")")});"function"===typeof _pageUpdateNowRunning&&_pageUpdateNowRunning(a)},_setLoading=function(a,b){a=$(a);if(null===b||"undefined"==typeof b)b="Loading\u2026";if("TBODY"===a.tagName){var c=new Element("tr"),d=new Element("td");c.appendChild(d);a.appendChild(c);c=new Element("span");c.addClassName("loading");var e=new Element("img");
e.src=appLinks.iconSpinner;$(c).appendChild(e);appendText(c," "+b);d.appendChild(c)}else c=new Element("span"),c.addClassName("loading"),e=new Element("img"),e.src=appLinks.iconSpinner,$(c).appendChild(e),appendText(c," "+b),clearHtml(a),a.appendChild(c);return a},_tooltipElemSelector=null,_tooltiptimer=null,_tooltipelem=null,tooltipMouseOut=function(){_tooltipelem=_tooltiptimer=null;_tooltipElemSelector&&($$(".tooltipcontent").each(Element.hide),$$(_tooltipElemSelector).each(function(a){$(a).removeClassName("glow");
$(a).removeClassName("active");$(a).removeAttribute("data-rdtooltip")}))};Element.addMethods({loading:_setLoading});
function _updateMatchedNodes(a,b,c,d,e,f,g){c&&(c=Object.extend({view:"embed",declarenone:!0,fullresults:!0},a),null!==e&&Object.extend(c,e),d&&(c.localNodeOnly="true"),c.nodeExcludePrecedence="string"==typeof a.nodeExcludePrecedence&&"false"===a.nodeExcludePrecedence||"boolean"==typeof a.nodeExcludePrecedence&&!a.nodeExcludePrecedence?"false":"true",jQuery("#"+b).load(_genUrl(appLinks.frameworkNodesFragment,c),function(a,c,d){jQuery("#"+b).removeClass("depress");"success"==c?"function"==typeof f&&
f(d):"function"==typeof g&&g(a,c,d)}))}function setFilter(a,b,c){b||(b="!");null===c&&(c=_setFilterSuccess);return jQuery.ajax({type:"POST",url:_genUrl(appLinks.userAddFilterPref,{filterpref:a+"="+b}),beforeSend:_ajaxSendTokens.curry("filter_select_tokens"),success:function(b,e,f){if("function"===typeof c)c(b,a);else if("function"==typeof _setFilterSuccess)try{_setFilterSuccess(b,a)}catch(g){}}}).success(_ajaxReceiveTokens.curry("filter_select_tokens"))}
var generateId=function(){var a=0;return function(b){if((b=b?jQuery(b):null)&&b.attr("id"))return b.attr("id");var c="_id"+a++;b&&b.attr("id",c);return c}}();function _loadMessages(a){"object"!=typeof window.Messages&&(window.Messages={});jQuery.extend(window.Messages,loadJsonData(a))}
function messageTemplate(a,b,c){var d=null;c&&(d=a.split("|"),a=d[0],d=d[1]);var e=[];"object"!=typeof b?e=[b]:jQuery.isArray(b)?e=b:"object"==typeof b&&(e=b.value,jQuery.isArray(e)||(e=[e]));for(b=0;b<e.length;b++)"function"==typeof e[b]&&(e[b]=e[b]());c&&1!=e[0]&&(a=d);return a.replace(/\{(\d+)\}/g,function(b,a,c,d){b=parseInt(a);return 0<=b&&b<e.length?e[b]:d})}
function message(a,b){if("object"==typeof window.Messages){var c=Messages[a];c||"function"==typeof _messageMissingError&&_messageMissingError("Message not found: "+a);return c?b?messageTemplate(c,b):c:a}"function"==typeof _messageMissingError&&_messageMissingError("Message not found: "+a);return a}
jQuery.fn.highlight=function(a){jQuery(this).each(function(){var b=jQuery(this);b.before("<div/>");b.prev().width(b.width()).height(b.height()).css({position:"absolute","background-color":"#ffff99",opacity:".9"}).fadeOut(a||500)})};jQuery.fn.scrollTo=function(a){jQuery(this).each(function(){var b=jQuery(this);jQuery("html, body").animate({scrollTop:b.offset().top},a||1E3)})};
var MenuController=Class.create({menuStart:new Hash,menuHideTimeout:new Hash,showRelativeTo:function(a,b,c,d){b=$(b);a=$(a);Element.hide(b);Element.absolutize(b);b.setStyle({zIndex:100});var e=a.offsetHeight,f=0;null!=d&&(e=d);null!=c&&(f=c);var g=a.viewportOffset();c=document.viewport.getWidth();d=document.viewport.getScrollOffsets();var h=b.getWidth(),g=c-(g.left+(h+16+f));0>g&&c>h&&(f+=g);Prototype.Browser.IE&&(e+=d[1],f+=d[0]);Element.clonePosition(b,a,{setWidth:!1,setHeight:!1,offsetTop:e,offsetLeft:f});
Try.these(Element.show.curry(b))},_mouseoverMenuRestore:function(a,b){Event.element(a);var c=Event.relatedTarget(a);a.relatedTarget&&(c=$(a.relatedTarget));!c.descendantOf(b)&&this.menuHideTimeout.get(b)&&(clearTimeout(this.menuHideTimeout.get(b)),this.menuHideTimeout.unset(b))}}),RundeckVersion=function(a){var b=this;b.versionString=a.versionString;b.versionData={};b.versionDate=a.versionDate;b.colorIdentity=a&&a.colorIdentity?a.colorIdentity:"minorPoint";b.nameIdentity=a&&a.nameIdentity?a.nameIdentity:
"majorMinor";b.iconIdentity=a&&a.iconIdentity?a.iconIdentity:"minorPoint";b.appId=a&&a.appId?a.appId:"Rundeck";b.serverName=a&&a.serverName?a.serverName:null;b.csscolors="BlueViolet CadetBlue Chocolate CornflowerBlue Crimson DodgerBlue FireBrick ForestGreen Fuchsia Goldenrod HotPink Indigo LimeGreen Magenta Maroon MidnightBlue Navy Olive OrangeRed Purple RoyalBlue SaddleBrown SeaGreen Sienna SlateBlue SteelBlue Teal Tomato Violet".split(" ");b.glyphicons="bell book briefcase bullhorn camera cutlery flag flash gift globe headphones leaf music paperclip phone plane pushpin tower glass knight tent apple lamp piggy-bank grain sunglasses".split(" ");
b.names="Americano;Cafe Au Lait;Cafe Bonbon;Cafecito;Cafe Cubano;Caffe Latte;Cafe Mocha;Cappuccino;Caramel Latte;Coconut Latte;Con Panna;Doppio Espresso;Dry Cappuccino;Espresso Breve;Eye Opener;Hammerhead;Macchiato;Pumpkin Spice Latte;Ristretto;Solo Espresso;Toffee Latte;Turkish Coffee;Vanilla Latte;Viennese Espresso".split(";");b.splitVersion=function(b){var a=String(b).split(" "),a=1<a.length?a[0]:b;b=String(a).split("-");var e=b[0].split("."),a={version:a};a.major=0<e.length?parseInt(e[0]):0;a.minor=
1<e.length?parseInt(e[1]):0;a.majorMinor=10*a.major+a.minor;a.point=2<e.length?parseInt(e[2]):0;a.minorPoint=20*a.minor+a.point;var e=1,f="";1<b.length&&/^\d+$/.test(b[1])?(e=parseInt(b[1]),f=2<b.length?b.slice(2).join("-"):""):1<b.length&&(f=b.slice(1).join("-"));a.tag=f;a.release=e;a.pointRelease=20*a.point+e;a.minorPointRelease=100*a.minor+20*a.point+e;a.full=100*a.major+20*a.minor+a.point;return a};b.splitUUID=function(b){var a=String(b).split("-");0<a.length&&a[0].substring(0,2);b={};for(var e=
0;e<a.length;e++)b["uuid"+e]=parseInt(a[e].substring(0,2),16),b["hexuuid"+e]=a[e];for(var a=a.join(""),f=[],g=0;6*(g+1)<a.length;g++)b["6let"+e]=a.substring(6*g,6*(g+1)),f.push(a.substring(6*g,6*(g+1)));b.sixes=f;return b};b.inList=function(b,a){return b[a%b.length]};b.colorForVersion=function(a){return b.inList(b.csscolors,a)};b.nameForVersion=function(a){return b.inList(b.names,a)};b.iconForVersion=function(a){return b.inList(b.glyphicons,a)};b.data=function(){return b.versionData};b.color=function(){return b.colorForVersion(b.versionData[b.colorIdentity])};
b.name=function(){return b.nameForVersion(b.versionData[b.nameIdentity])};b.icon=function(){return b.iconForVersion(b.versionData[b.iconIdentity])};b.text=function(){return[b.name(),b.color(),b.icon()].join(" ").toLowerCase().replace(/[^a-z]/g," ")};b.versionString?b.versionData=b.splitVersion(b.versionString):a.serverUuid&&(b.versionData=b.splitUUID(a.serverUuid))},VersionIdentity=function(a){var b=this;b.version=new RundeckVersion(a);b.showVersionIdentity=function(a){var d=b.version.color();b.version.name();
var e=b.version.icon(),f=b.version.text(),g=b.version.data(),h=jQuery("<span></span>"),d=jQuery("<span></span>").addClass("version-icon").css({color:d});d.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+e));h.append(d);e=jQuery("<span></span>").addClass("rundeck-version-name").text(f);g.tag&&"GA"!=g.tag?d.append(e):h.append(e);f=jQuery("<span></span>").attr("title",b.version.appId+" "+b.version.versionString+" ("+f+")"+(b.version.versionDate?" "+b.version.versionDate:"")).append(h);if(g.tag&&
"GA"!=g.tag){g=g.tag.toLowerCase();if(g=~/snapshot/i&&b.version.versionDate)g=g.replace(/snapshot/i,b.version.versionDate);f.append(jQuery("<span></span>").addClass("badge badge-default").text(" "+g))}else b.version.versionDate&&(g=jQuery("<span></span>").addClass("rundeck-version-date").text(" "+b.version.versionDate),f.append(g));jQuery(a).append(f)};b.stripeBg=function(a,b,e,f){return"repeating-linear-gradient(-45deg, "+a+", "+a+" "+b+"px, "+e+" "+b+"px, "+e+" "+f+"px )"};b.stripeAllBg=function(a,
b,e){a="repeating-linear-gradient("+a+", ";for(var f=0,g=0;g<b.length;g++)0<g&&(a+=", "),a+="#"+b[g]+" "+f+"px, ",f+=e,a+="#"+b[g]+" "+f+"px";return a+")"};b.showVersionBlock=function(a){var d=b.version.color();b.version.name();var e=b.version.icon(),f=b.version.text(),g=b.version.data(),h=jQuery("<span></span>"),k=jQuery("<span></span>").addClass("version-icon");k.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+e));h.append(k);e=jQuery("<span></span>").addClass("rundeck-version-name").text(f);
h.append(e);h=jQuery("<div></div>").text(b.version.appId+" "+b.version.versionString+" ").append(h);g.tag&&"GA"!=g.tag?jQuery(a).css({background:b.stripeBg(d,15,"#5c5c5c",20),color:"white"}).append(h):jQuery(a).css({background:d,color:"white"}).append(h);b.version.versionDate&&(a=jQuery("<span></span>").addClass("rundeck-version-date").text(" "+b.version.versionDate),h.append(a))};b.showServerName=function(c){if(a.serverUuid){b.version.versionData.hexuuid0.substring(0,6);var d=b.version.iconForVersion(b.version.versionData.uuid0),
e=[d,b.version.versionData.hexuuid0.substring(0,2)].join("-").toLowerCase(),f=b.version.serverName?b.version.serverName:"",g=b.version.versionData.hexuuid0.substring(0,2);jQuery("<i></i>").addClass("rdicon node node-runnable icon-small");var h=jQuery("<span></span>"),k=jQuery("<span></span>");k.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+d));h.append(k);d=jQuery("<span></span>").text(" "+f+" ");f=jQuery("<span></span>").css({border:"1px solid transparent","border-image":b.stripeAllBg("90deg",
b.version.versionData.sixes,20),"border-width":"0 0 2px 0",padding:"1px","border-color":"solid transparent","border-image-slice":"1"});e=jQuery("<span></span>").attr("title",e+" / "+a.serverUuid).css({}).append(f.append(d).append(h).append(" "+(b.version.serverName?g:e))).append(jQuery("<span></span>").text(" "));jQuery(c).append(e)}}};
(function(){jQuery(function(){jQuery(".rundeck-version-identity").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionIdentity(this)});jQuery(".rundeck-version-block").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionBlock(this)});jQuery(".rundeck-server-uuid").each(function(){(new VersionIdentity(jQuery(this).data())).showServerName(this)})})})();
function ActionHandlers(){var a=this;a.handlers={};a.registerHandler=function(b,c){a.handlers[b]=c};a.triggerHandler=function(b,c,d){null!=a.handlers[c]&&(d.is("a")&&b.preventDefault(),a.handlers[c](d))};a.registerModalHandler=function(b,c,d){a.registerHandler(b,function(a){jQuery(c).modal(d)})};a.init=function(){jQuery(document.body).on("click",".page_action",function(b){var c=jQuery(this),d=c.data("action");a.triggerHandler(b,d,c)})}}var PageActionHandlers;
jQuery(function(){PageActionHandlers=new ActionHandlers;PageActionHandlers.init()});