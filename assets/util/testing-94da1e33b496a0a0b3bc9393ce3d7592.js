//# sourceMappingURL=testing.js.map
var TestHarness=function(m,k){var c=this;c.name=m;var g=0,h=0,e="js_test_"+Math.floor(1024*Math.random()),f="";c.compare=function(a,b){if(typeof a!=typeof b||null==a&&null!=b||null!=a&&null==b)return!1;if(null!=a&&null!=b&&"array"==jQuery.type(a)&&"array"==jQuery.type(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(!c.compare(a[d],b[d]))return!1;return!0}if(null!=a&&null!=b&&"object"==typeof a){if(Object.keys(a).length!=Object.keys(b).length)return!1;for(d in a)if(!c.compare(a[d],
b[d]))return!1;for(d in b)if(!c.compare(a[d],b[d]))return!1;return!0}return a===b};c.error=function(a){jQuery("#"+e).append(jQuery('<div class="js-test-failure"></div>').append(jQuery('<span class="text-danger"></span>').text(a)))};c.ok=function(a){jQuery("#"+e).append(jQuery("<div></div>").append(jQuery('<span class="text-success"></span>').text("OK: "+a)))};c.assert=function(a,b,d){h++;null==b&&null==d&&"string"!=typeof a?(b=!0,d=a,a="(assert)"):null==d&&"string"==typeof b&&"boolean"==typeof a&&
(d=a,a=b,b=!0);if(c.compare(b,d))c.ok(f+a);else{g++;a="FAIL: "+f+a+": expected: "+JSON.stringify(b)+", was: "+JSON.stringify(d);c.error(a);try{throw Error("assert failed: "+a);}catch(e){console.log(e,e.stack)}}};c.log=function(a,b){jQuery("#"+e).append(jQuery("<div></div>").append(jQuery('<span class="text-info"></span>').text("LOG: "+a)));b&&jQuery("#"+e).append(jQuery("<div></div>").append(jQuery('<span class="text-info"></span>').text(b)))};c.testMatrix=function(a,b,d){b.forEach(function(b){var e=
d(b[0]);c.assert(messageTemplate(a,[JSON.stringify(b[0]),JSON.stringify(b[1])]),b[1],e)})};c.holder={};c.prepare=function(){if("object"==typeof window.Messages){c.holder.Messages=Messages;var a={},b;for(b in Messages)a[b]=b;window.Messages=a}};c.restore=function(){window.Messages=c.holder.Messages;c.holder={}};c.testAll=function(){c.prepare();jQuery(document.body).append(jQuery('<div id="'+e+'" class="collapse in"></div>'));var a=jQuery("#"+e);c.log("Start: "+c.name);for(var b in c)if(b.endsWith("Test"))try{f=
b+": ",c[b].call(c,b+": ")}catch(d){c.assert("caught error running test: "+d,"ok","exception"),console.log("error",d,d.stack)}f="";0<g?a.prepend(jQuery("<div></div>").append(jQuery('<span class="text-danger"></span>').text("FAIL: "+g+"/"+h+" assertions failed"))):(a.collapse("hide"),jQuery(document.body).append("<div></div>").append('<span class="btn btn-link text-success" data-toggle="collapse" data-target="#'+e+'">OK: '+h+" Tests Passed</span>"));c.restore()};for(var l in k)c[l]=k[l].bind(c);jQuery(function(){c.testAll()})};