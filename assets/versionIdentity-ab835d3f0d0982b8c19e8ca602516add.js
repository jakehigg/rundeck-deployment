//# sourceMappingURL=versionIdentity.js.map
var RundeckVersion=function(c){var a=this;a.versionString=c.versionString;a.versionData={};a.versionDate=c.versionDate;a.colorIdentity=c&&c.colorIdentity?c.colorIdentity:"minorPoint";a.nameIdentity=c&&c.nameIdentity?c.nameIdentity:"majorMinor";a.iconIdentity=c&&c.iconIdentity?c.iconIdentity:"minorPoint";a.appId=c&&c.appId?c.appId:"Rundeck";a.serverName=c&&c.serverName?c.serverName:null;a.csscolors="BlueViolet CadetBlue Chocolate CornflowerBlue Crimson DodgerBlue FireBrick ForestGreen Fuchsia Goldenrod HotPink Indigo LimeGreen Magenta Maroon MidnightBlue Navy Olive OrangeRed Purple RoyalBlue SaddleBrown SeaGreen Sienna SlateBlue SteelBlue Teal Tomato Violet".split(" ");
a.glyphicons="bell book briefcase bullhorn camera cutlery flag flash gift globe headphones leaf music paperclip phone plane pushpin tower glass knight tent apple lamp piggy-bank grain sunglasses".split(" ");a.names="Americano;Cafe Au Lait;Cafe Bonbon;Cafecito;Cafe Cubano;Caffe Latte;Cafe Mocha;Cappuccino;Caramel Latte;Coconut Latte;Con Panna;Doppio Espresso;Dry Cappuccino;Espresso Breve;Eye Opener;Hammerhead;Macchiato;Pumpkin Spice Latte;Ristretto;Solo Espresso;Toffee Latte;Turkish Coffee;Vanilla Latte;Viennese Espresso".split(";");
a.splitVersion=function(a){var b=String(a).split(" "),b=1<b.length?b[0]:a;a=String(b).split("-");var d=a[0].split("."),b={version:b};b.major=0<d.length?parseInt(d[0]):0;b.minor=1<d.length?parseInt(d[1]):0;b.majorMinor=10*b.major+b.minor;b.point=2<d.length?parseInt(d[2]):0;b.minorPoint=20*b.minor+b.point;var d=1,f="";1<a.length&&/^\d+$/.test(a[1])?(d=parseInt(a[1]),f=2<a.length?a.slice(2).join("-"):""):1<a.length&&(f=a.slice(1).join("-"));b.tag=f;b.release=d;b.pointRelease=20*b.point+d;b.minorPointRelease=
100*b.minor+20*b.point+d;b.full=100*b.major+20*b.minor+b.point;return b};a.splitUUID=function(a){var b=String(a).split("-");0<b.length&&b[0].substring(0,2);a={};for(var d=0;d<b.length;d++)a["uuid"+d]=parseInt(b[d].substring(0,2),16),a["hexuuid"+d]=b[d];for(var b=b.join(""),f=[],e=0;6*(e+1)<b.length;e++)a["6let"+d]=b.substring(6*e,6*(e+1)),f.push(b.substring(6*e,6*(e+1)));a.sixes=f;return a};a.inList=function(a,b){return a[b%a.length]};a.colorForVersion=function(h){return a.inList(a.csscolors,h)};
a.nameForVersion=function(h){return a.inList(a.names,h)};a.iconForVersion=function(h){return a.inList(a.glyphicons,h)};a.data=function(){return a.versionData};a.color=function(){return a.colorForVersion(a.versionData[a.colorIdentity])};a.name=function(){return a.nameForVersion(a.versionData[a.nameIdentity])};a.icon=function(){return a.iconForVersion(a.versionData[a.iconIdentity])};a.text=function(){return[a.name(),a.color(),a.icon()].join(" ").toLowerCase().replace(/[^a-z]/g," ")};a.versionString?
a.versionData=a.splitVersion(a.versionString):c.serverUuid&&(a.versionData=a.splitUUID(c.serverUuid))},VersionIdentity=function(c){var a=this;a.version=new RundeckVersion(c);a.showVersionIdentity=function(h){var b=a.version.color();a.version.name();var d=a.version.icon(),f=a.version.text(),e=a.version.data(),c=jQuery("<span></span>"),b=jQuery("<span></span>").addClass("version-icon").css({color:b});b.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+d));c.append(b);d=jQuery("<span></span>").addClass("rundeck-version-name").text(f);
e.tag&&"GA"!=e.tag?b.append(d):c.append(d);f=jQuery("<span></span>").attr("title",a.version.appId+" "+a.version.versionString+" ("+f+")"+(a.version.versionDate?" "+a.version.versionDate:"")).append(c);if(e.tag&&"GA"!=e.tag){e=e.tag.toLowerCase();if(e=~/snapshot/i&&a.version.versionDate)e=e.replace(/snapshot/i,a.version.versionDate);f.append(jQuery("<span></span>").addClass("badge badge-default").text(" "+e))}else a.version.versionDate&&(e=jQuery("<span></span>").addClass("rundeck-version-date").text(" "+
a.version.versionDate),f.append(e));jQuery(h).append(f)};a.stripeBg=function(a,b,d,c){return"repeating-linear-gradient(-45deg, "+a+", "+a+" "+b+"px, "+d+" "+b+"px, "+d+" "+c+"px )"};a.stripeAllBg=function(a,b,d){a="repeating-linear-gradient("+a+", ";for(var c=0,e=0;e<b.length;e++)0<e&&(a+=", "),a+="#"+b[e]+" "+c+"px, ",c+=d,a+="#"+b[e]+" "+c+"px";return a+")"};a.showVersionBlock=function(c){var b=a.version.color();a.version.name();var d=a.version.icon(),f=a.version.text(),e=a.version.data(),g=jQuery("<span></span>"),
k=jQuery("<span></span>").addClass("version-icon");k.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+d));g.append(k);d=jQuery("<span></span>").addClass("rundeck-version-name").text(f);g.append(d);g=jQuery("<div></div>").text(a.version.appId+" "+a.version.versionString+" ").append(g);e.tag&&"GA"!=e.tag?jQuery(c).css({background:a.stripeBg(b,15,"#5c5c5c",20),color:"white"}).append(g):jQuery(c).css({background:b,color:"white"}).append(g);a.version.versionDate&&(c=jQuery("<span></span>").addClass("rundeck-version-date").text(" "+
a.version.versionDate),g.append(c))};a.showServerName=function(h){if(c.serverUuid){a.version.versionData.hexuuid0.substring(0,6);var b=a.version.iconForVersion(a.version.versionData.uuid0),d=[b,a.version.versionData.hexuuid0.substring(0,2)].join("-").toLowerCase(),f=a.version.serverName?a.version.serverName:"",e=a.version.versionData.hexuuid0.substring(0,2);jQuery("<i></i>").addClass("rdicon node node-runnable icon-small");var g=jQuery("<span></span>"),k=jQuery("<span></span>");k.append(jQuery("<i></i>").addClass("glyphicon glyphicon-"+
b));g.append(k);b=jQuery("<span></span>").text(" "+f+" ");f=jQuery("<span></span>").css({border:"1px solid transparent","border-image":a.stripeAllBg("90deg",a.version.versionData.sixes,20),"border-width":"0 0 2px 0",padding:"1px","border-color":"solid transparent","border-image-slice":"1"});d=jQuery("<span></span>").attr("title",d+" / "+c.serverUuid).css({}).append(f.append(b).append(g).append(" "+(a.version.serverName?e:d))).append(jQuery("<span></span>").text(" "));jQuery(h).append(d)}}};
(function(){jQuery(function(){jQuery(".rundeck-version-identity").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionIdentity(this)});jQuery(".rundeck-version-block").each(function(){(new VersionIdentity(jQuery(this).data())).showVersionBlock(this)});jQuery(".rundeck-server-uuid").each(function(){(new VersionIdentity(jQuery(this).data())).showServerName(this)})})})();